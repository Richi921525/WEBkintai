<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å…¥é€€å®¤çŠ¶æ³ç¢ºèª</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="status-page" style="background-image: url('{{ url_for('static', filename=background) }}'); background-size: cover;">
  <h1>å…¥é€€å®¤çŠ¶æ³ç¢ºèª</h1>

  <form method="POST" autocomplete="off">
    <input type="text" name="id" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å…¥åŠ›" required>
    <button type="submit">æ¤œç´¢</button>
  </form>

  {% if error %}
    <div class="error" id="status-error">{{ error }}</div>
    <script>
      setTimeout(() => {
        const err = document.getElementById("status-error");
        if (err) {
          err.style.transition = "opacity 0.5s";
          err.style.opacity = 0;
          setTimeout(() => err.remove(), 500);
        }
      }, 10000);
    </script>
  {% endif %}

  {% if result %}
    <div class="status-result">
      <h2>{{ result.name }} ã•ã‚“ï¼ˆID: {{ result.id }}ï¼‰</h2>
      <p>
        <strong>ç¾åœ¨ã®çŠ¶æ…‹ï¼š</strong>
        {% if result.status == 1 %}
          <span style="color: green;">ğŸŸ¢ å…¥å®¤ä¸­</span>
        {% elif result.status == 2 %}
          <span style="color: red;">ğŸ”´ é€€å®¤æ¸ˆ</span>
        {% else %}
          ä¸æ˜
        {% endif %}
      </p>
      <p><strong>æœ€çµ‚å…¥å®¤ï¼š</strong> {{ result.last_in }}</p>
      <p><strong>æœ€çµ‚é€€å®¤ï¼š</strong> {{ result.last_out }}</p>
    </div>
  {% endif %}

  <div class="back-button">
    <a href="{{ url_for('main.index') }}">â† ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
  </div>
</body>
</html>
